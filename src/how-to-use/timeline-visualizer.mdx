The Timeline Visualizer tool allows you to create a visual timeline of a Blue
Archive comp rotation. The tool works very similarly to the
[Formation Display][formation-tool] tool. The main goal of the tool is to help
in creating a visual representation of a rotation (i.e. for a raid), either for
personal reference or for use in YouTube videos.

## Getting Started

To begin, select a student using the **Select Student** dropdown. Unlike the
Formation Display tool, you can select the same student multiple times, since
you'll very likely be using their EX skill multiple times. Once selected, you
can specify the following options:
- **Trigger**: A trigger can be any reference point for when you'd want to use
  this particular student's EX skill (e.g. skill cost, timer, etc.).
- **Variant**: Some characters have multiple EX skill card variants (e.g. Dress
  Hina has a different one for every stage of her EX skill).
- **Target**: If the student can target another student (e.g. buffer or healer),
  you can specify them here, either from the dropdown, or by clicking on the
  icon of an already-added student.
- **Copy**: If a copied skill card is used (i.e. the card you got from Rio, not
  the original card), you should enable this toggle.
- **Notes**: You may add short notes that will be displayed underneath the skill
  card. You can use this to indicate skill procs, damage thresholds, etc. This
  field supports multiline text.

If the rotation has it so you'll use certain EX skills in quick succession, you
can omit the Trigger field and assume you'll be using their EX skills one after
the other.

To help you separate the "streaks" of EX skills, you can add separators.
You may use a **Horizontal Separator** to separate two groups of EX skills
horizontally, or a **Vertical Separator** to put the new EX skills on a new row.
It is generally recommended to use vertical separators when the rows are getting
too long, as it makes the timeline easier to read.

Separators also have an optional size override toggle which allows you to set up
a custom size for them (in pixels) that will differ from the default size
specified in the **Appearance** tab.

You can also add text to your timeline (e.g.: for specifying skill procs or
phase transitions). Generally, you want these texts to be short, so they don't
take up valuable space on the canvas. This field supports multiline text.

You can click on the **Copy** button to clone a timeline item with all of its
attributes at the end of the timeline. You can also hover over the timeline
items and you'll see a Quick Add popup that lets you quickly insert an item
in-between two existing items.

## Appearance

The tool provides a few more options that you can play around with:
- **Scale**: Specifies the scale of the resulting image, going from 1x to 5x. It
  is generally recommended to not use high scale, as it makes the image take
  longer to generate for really long rotations.
- **Item Spacing**: The space between student cards in the timeline, in pixels.
  You can use negative values here and the cards will overlap (-30 is a good
  value for this in my opinion).
- **Vertical Separator Size**: The height of the vertical separator in pixels.
  In other words, the space between two individual rows.
- **Horizontal Separator Size**: The width of the horizontal separator in
  pixels. In other words, the space between two individual groups of EX skills.

## Helpful Tips

1. Once you add a student to a timeline, she'll be added to the a section called
**Quick Add Student**. From here, you can click on the student to quickly add
her skill card again to the queue.
1. Similarly to Quick Add Student, the students you've added to the timeline can
also be selected as targets by clicking on the small icon next to the **Target**
dropdown. Clicking on the icon again will remove the target.
1. You can drag and drop the items in the timeline (not the preview) by clicking
on and dragging the leftmost button.
1. You can click on a skill card in the timeline preview to quickly jump to the
corresponding item in the timeline.

Once you're happy with the setup, click on the **Download Image** button. Please
note that generating the image may take a few seconds, especially if the scale
setting is high and/or the rotation is long.

Alternatively, you can turn the visual timeline into a text timeline by clicking
on the **Copy Text Timeline** button.

## Save/Load

You can quickly save your session by clicking on the **Save** button. This will
override your existing save without any confirmation. You can then load your
previous session by clicking on the **Load** button, but do note that this will
override your current timeline immediately.

## Import/Export

You can click on the **Export** button to export your timeline session as a JSON
object. Then you can import it back on another browser/device by clicking on the
**Import** button and pasting the JSON object into the input field. This will
override both your current timeline and your saved session. The Export function
will also automatically save your session.

## Cloud Features

If you have an account on the site, you'll get access to the following features:
- **Cloud Save**: You can save the timeline in your account for access on any
  device/browser.
- **Timeline Sharing**: You can give you timeline a name, a description, and
  select the public visibility option to share it with other people. You may
  also choose if you want your name and profile picture to be displayed
  underneath the timeline. The description supports Markdown formatting and will
  automatically embed YouTube and BiliBili links.
- **Timeline Groups**: You can organize your timelines into groups (e.g.
  multiple pans for a single raid, or different colors for Grand Assault).
  Timeline groups are also shareable and support the same sharing options as
  plain timelines.

## Troubleshooting

**Q:** The tool just hangs when I click on the **Download Image** button.

**A:** The amount of time it takes to generate the image depends on the number
of students in the timeline, the scale of the image, and the browser you're
using. Ideally, it should never take longer than 15 seconds, so if you're
waiting longer than that, try refreshing the page or using a different browser.
You may also check the browser's developer console for any errors and let me
know about the error on [GitHub][github-issues-link].

**Q:** The image is not transparent or looks weird.

**A:** This is most likely a browser issue. The tool was developed and tested in
the latest versions of Chromium and Firefox, so try using one of these. I would
still appreciate it if you could let me know about the issue on
[GitHub][github-issues-link] (please specify the browser and browser version
you're using).

[github-issues-link]: https://github.com/jozsefsallai/ba-tools/issues
[formation-tool]: https://ba.joexyz.online/formation-display
